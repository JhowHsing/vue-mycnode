webpackJsonp([2,4],{11:function(n,t,e){var o,i,r,c=e(5),s=e(26),a=e(40),l=e(23),u=e(2),f=u.process,d=u.setImmediate,p=u.clearImmediate,A=u.MessageChannel,g=0,v={},h="onreadystatechange",x=function(){var n=+this;if(v.hasOwnProperty(n)){var t=v[n];delete v[n],t()}},m=function(n){x.call(n.data)};d&&p||(d=function(n){for(var t=[],e=1;arguments.length>e;)t.push(arguments[e++]);return v[++g]=function(){s("function"==typeof n?n:Function(n),t)},o(g),g},p=function(n){delete v[n]},"process"==e(8)(f)?o=function(n){f.nextTick(c(x,n,1))}:A?(i=new A,r=i.port2,i.port1.onmessage=m,o=c(r.postMessage,r,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(o=function(n){u.postMessage(n+"","*")},u.addEventListener("message",m,!1)):o=h in l("script")?function(n){a.appendChild(l("script"))[h]=function(){a.removeChild(this),x.call(n)}}:function(n){setTimeout(c(x,n,1),0)}),n.exports={set:d,clear:p}},17:function(n,t,e){"use strict";function o(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t["default"]=n,t}function i(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0}),t.setStorage=t.validateLogin=t.initTopic=t.getDetailTopic=t.getTopic=void 0;var r=e(18),c=i(r),s=e(19),a=i(s),l=e(15),u=o(l),f=e(37),d=i(f),p=function(n){var t=n.url,e=n.query,o=void 0;return o=e?"https://cnodejs.org/api/v1"+t+"?"+e:"https://cnodejs.org/api/v1"+t,d["default"].http.get(o).then(function(n){return n.status>=200&&n.status<300?n.json():a["default"].reject(new Error(n.status))})},A=function(n,t){var e="https://cnodejs.org/api/v1"+n;return d["default"].http.post(e,t).then(function(n){return n.status>=200&&n.status<300?n.json():a["default"].reject(new Error(n.status))})};t.getTopic=function(n,t,e,o){var i=n.dispatch,r="/topics",c="tab="+t+"&page="+e+"&limit="+o;console.log(c),p({url:r,query:c}).then(function(n){console.log(n),n.success&&(console.log(n.data),i(u.GET_TOP_LIST,n.data),i(u.CHANGE_NAV,t))})["catch"](function(n){i(u.GET_TOP_LIST_FAILUER,t)})},t.getDetailTopic=function(n,t){var e=n.dispatch,o=t;console.log(o),p({url:o}).then(function(n){console.log(n),n.success&&(console.log(n.data),e(u.GET_DETAIL_TOPICS,n.data))})["catch"](function(n){e(u.GET_TOP_LIST_FAILUER)})},t.initTopic=function(n){var t=n.dispatch;t(u.INIT_LIST)},t.validateLogin=function(n,t){var e=n.dispatch,o="/accesstoken",i=(0,c["default"])(t);return A(o,i).then(function(n){return e(u.LOGIN_SUCCESS,n),n})["catch"](function(n){return e(u.LOGIN_FAILURE,n.data),a["default"].reject(n)})},t.setStorage=function(n,t){n.dispatch;localStorage.setItem("user",(0,c["default"])(t))}},18:function(n,t,e){n.exports={"default":e(20),__esModule:!0}},19:function(n,t,e){n.exports={"default":e(21),__esModule:!0}},20:function(n,t,e){var o=e(3),i=o.JSON||(o.JSON={stringify:JSON.stringify});n.exports=function(n){return i.stringify.apply(i,arguments)}},21:function(n,t,e){e(35),e(44),e(45),e(36),n.exports=e(3).Promise},22:function(n,t){n.exports=function(n,t,e,o){if(!(n instanceof t)||void 0!==o&&o in n)throw TypeError(e+": incorrect invocation!");return n}},25:function(n,t,e){var o=e(5),i=e(28),r=e(27),c=e(4),s=e(42),a=e(43),l={},u={},t=n.exports=function(n,t,e,f,d){var p,A,g,v,h=d?function(){return n}:a(n),x=o(e,f,t?2:1),m=0;if("function"!=typeof h)throw TypeError(n+" is not iterable!");if(r(h)){for(p=s(n.length);p>m;m++)if(v=t?x(c(A=n[m])[0],A[1]):x(n[m]),v===l||v===u)return v}else for(g=h.call(n);!(A=g.next()).done;)if(v=i(g,x,A.value,t),v===l||v===u)return v};t.BREAK=l,t.RETURN=u},26:function(n,t){n.exports=function(n,t,e){var o=void 0===e;switch(t.length){case 0:return o?n():n.call(e);case 1:return o?n(t[0]):n.call(e,t[0]);case 2:return o?n(t[0],t[1]):n.call(e,t[0],t[1]);case 3:return o?n(t[0],t[1],t[2]):n.call(e,t[0],t[1],t[2]);case 4:return o?n(t[0],t[1],t[2],t[3]):n.call(e,t[0],t[1],t[2],t[3])}return n.apply(e,t)}},27:function(n,t,e){var o=e(13),i=e(1)("iterator"),r=Array.prototype;n.exports=function(n){return void 0!==n&&(o.Array===n||r[i]===n)}},28:function(n,t,e){var o=e(4);n.exports=function(n,t,e,i){try{return i?t(o(e)[0],e[1]):t(e)}catch(r){var c=n["return"];throw void 0!==c&&o(c.call(n)),r}}},29:function(n,t,e){var o=e(1)("iterator"),i=!1;try{var r=[7][o]();r["return"]=function(){i=!0},Array.from(r,function(){throw 2})}catch(c){}n.exports=function(n,t){if(!t&&!i)return!1;var e=!1;try{var r=[7],c=r[o]();c.next=function(){return{done:e=!0}},r[o]=function(){return c},n(r)}catch(s){}return e}},30:function(n,t,e){var o=e(2),i=e(11).set,r=o.MutationObserver||o.WebKitMutationObserver,c=o.process,s=o.Promise,a="process"==e(8)(c);n.exports=function(){var n,t,e,l=function(){var o,i;for(a&&(o=c.domain)&&o.exit();n;){i=n.fn,n=n.next;try{i()}catch(r){throw n?e():t=void 0,r}}t=void 0,o&&o.enter()};if(a)e=function(){c.nextTick(l)};else if(r){var u=!0,f=document.createTextNode("");new r(l).observe(f,{characterData:!0}),e=function(){f.data=u=!u}}else if(s&&s.resolve){var d=s.resolve();e=function(){d.then(l)}}else e=function(){i.call(o,l)};return function(o){var i={fn:o,next:void 0};t&&(t.next=i),n||(n=i,e()),t=i}}},31:function(n,t,e){var o=e(10);n.exports=function(n,t,e){for(var i in t)e&&n[i]?n[i]=t[i]:o(n,i,t[i]);return n}},32:function(n,t,e){"use strict";var o=e(2),i=e(3),r=e(14),c=e(9),s=e(1)("species");n.exports=function(n){var t="function"==typeof i[n]?i[n]:o[n];c&&t&&!t[s]&&r.f(t,s,{configurable:!0,get:function(){return this}})}},34:function(n,t,e){var o=e(4),i=e(12),r=e(1)("species");n.exports=function(n,t){var e,c=o(n).constructor;return void 0===c||void 0==(e=o(c)[r])?t:i(e)}},35:function(n,t){},36:function(n,t,e){"use strict";var o,i,r,c=e(41),s=e(2),a=e(5),l=e(38),u=e(24),f=e(16),d=e(12),p=e(22),A=e(25),g=e(34),v=e(11).set,h=e(30)(),x="Promise",m=s.TypeError,_=s.process,b=s[x],_=s.process,B="process"==l(_),C=function(){},y=!!function(){try{var n=b.resolve(1),t=(n.constructor={})[e(1)("species")]=function(n){n(C,C)};return(B||"function"==typeof PromiseRejectionEvent)&&n.then(C)instanceof t}catch(o){}}(),k=function(n,t){return n===t||n===b&&t===r},w=function(n){var t;return!(!f(n)||"function"!=typeof(t=n.then))&&t},T=function(n){return k(b,n)?new j(n):new i(n)},j=i=function(n){var t,e;this.promise=new n(function(n,o){if(void 0!==t||void 0!==e)throw m("Bad Promise constructor");t=n,e=o}),this.resolve=d(t),this.reject=d(e)},S=function(n){try{n()}catch(t){return{error:t}}},z=function(n,t){if(!n._n){n._n=!0;var e=n._c;h(function(){for(var o=n._v,i=1==n._s,r=0,c=function(t){var e,r,c=i?t.ok:t.fail,s=t.resolve,a=t.reject,l=t.domain;try{c?(i||(2==n._h&&M(n),n._h=1),c===!0?e=o:(l&&l.enter(),e=c(o),l&&l.exit()),e===t.promise?a(m("Promise-chain cycle")):(r=w(e))?r.call(e,s,a):s(e)):a(o)}catch(u){a(u)}};e.length>r;)c(e[r++]);n._c=[],n._n=!1,t&&!n._h&&E(n)})}},E=function(n){v.call(s,function(){var t,e,o,i=n._v;if(O(n)&&(t=S(function(){B?_.emit("unhandledRejection",i,n):(e=s.onunhandledrejection)?e({promise:n,reason:i}):(o=s.console)&&o.error&&o.error("Unhandled promise rejection",i)}),n._h=B||O(n)?2:1),n._a=void 0,t)throw t.error})},O=function(n){if(1==n._h)return!1;for(var t,e=n._a||n._c,o=0;e.length>o;)if(t=e[o++],t.fail||!O(t.promise))return!1;return!0},M=function(n){v.call(s,function(){var t;B?_.emit("rejectionHandled",n):(t=s.onrejectionhandled)&&t({promise:n,reason:n._v})})},I=function(n){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=n,t._s=2,t._a||(t._a=t._c.slice()),z(t,!0))},U=function(n){var t,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===n)throw m("Promise can't be resolved itself");(t=w(n))?h(function(){var o={_w:e,_d:!1};try{t.call(n,a(U,o,1),a(I,o,1))}catch(i){I.call(o,i)}}):(e._v=n,e._s=1,z(e,!1))}catch(o){I.call({_w:e,_d:!1},o)}}};y||(b=function(n){p(this,b,x,"_h"),d(n),o.call(this);try{n(a(U,this,1),a(I,this,1))}catch(t){I.call(this,t)}},o=function(n){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},o.prototype=e(31)(b.prototype,{then:function(n,t){var e=T(g(this,b));return e.ok="function"!=typeof n||n,e.fail="function"==typeof t&&t,e.domain=B?_.domain:void 0,this._c.push(e),this._a&&this._a.push(e),this._s&&z(this,!1),e.promise},"catch":function(n){return this.then(void 0,n)}}),j=function(){var n=new o;this.promise=n,this.resolve=a(U,n,1),this.reject=a(I,n,1)}),u(u.G+u.W+u.F*!y,{Promise:b}),e(33)(b,x),e(32)(x),r=e(3)[x],u(u.S+u.F*!y,x,{reject:function(n){var t=T(this),e=t.reject;return e(n),t.promise}}),u(u.S+u.F*(c||!y),x,{resolve:function(n){if(n instanceof b&&k(n.constructor,this))return n;var t=T(this),e=t.resolve;return e(n),t.promise}}),u(u.S+u.F*!(y&&e(29)(function(n){b.all(n)["catch"](C)})),x,{all:function(n){var t=this,e=T(t),o=e.resolve,i=e.reject,r=S(function(){var e=[],r=0,c=1;A(n,!1,function(n){var s=r++,a=!1;e.push(void 0),c++,t.resolve(n).then(function(n){a||(a=!0,e[s]=n,--c||o(e))},i)}),--c||o(e)});return r&&i(r.error),e.promise},race:function(n){var t=this,e=T(t),o=e.reject,i=S(function(){A(n,!1,function(n){t.resolve(n).then(e.resolve,o)})});return i&&o(i.error),e.promise}})},46:function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{configs:{type:Object,"default":{visiable:!1,text:"",cancel:"",callback:null}}},methods:{cancel:function(){this.close(),self.location=document.referrer},sure:function(){this.configs.callback&&this.configs.callback(),this.close()},close:function(){this.configs.visiable=!1}}}},51:function(n,t,e){t=n.exports=e(6)(),t.push([n.id,".dialog-banner[_v-5626b976]{background-color:#000;opacity:.5;width:100%;height:100%;position:fixed;top:0;left:0;z-index:4}.dialog[_v-5626b976]{width:80%;background-color:#fff;z-index:8;position:fixed;top:200px;left:10%;border-radius:5px}.dialog p[_v-5626b976]{margin:15px;line-height:1.5em;color:#323232;font-size:.9rem}.dialog .btn[_v-5626b976]{color:#80bd01;font-size:1rem;margin-right:20px;margin-bottom:16px;overflow:hidden}.dialog .btn a[_v-5626b976]{float:right}.dialog .btn a.cancel[_v-5626b976]{float:left;margin-left:15px}","",{version:3,sources:["/./src/components/dialog.vue"],names:[],mappings:"AA4CA,4BAA4B,sBAAuB,WAAa,WAAW,YAAa,eAAgB,MAAM,OAAO,SAAU,CAAC,AAChI,qBAAqB,UAAU,sBAAuB,UAAU,eAAgB,UAAU,SAAS,iBAAkB,CAAC,AACtH,uBAAuB,YAAY,kBAAmB,cAAc,eAAiB,CAAC,AACtF,0BAA0B,cAAc,eAAgB,kBAAmB,mBAAmB,eAAiB,CAAC,AAChH,4BAA4B,WAAY,CAAC,AACzC,mCAAmC,WAAW,gBAAiB,CAAC",file:"dialog.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.dialog-banner[_v-5626b976]{background-color: #000;opacity: 0.5;width:100%;height: 100%;position: fixed;top:0;left:0;z-index:4;}\n.dialog[_v-5626b976]{width:80%;background-color: #fff;z-index:8;position: fixed;top:200px;left:10%;border-radius:5px;}\n.dialog p[_v-5626b976]{margin:15px;line-height: 1.5em;color:#323232;font-size: 0.9rem}\n.dialog .btn[_v-5626b976]{color:#80bd01;font-size: 1rem;margin-right: 20px;margin-bottom:16px;overflow: hidden;}\n.dialog .btn a[_v-5626b976]{float:right;}\n.dialog .btn a.cancel[_v-5626b976]{float:left;margin-left:15px;}\n"],sourceRoot:"webpack://"}])},52:function(n,t,e){var o=e(51);"string"==typeof o&&(o=[[n.id,o,""]]);e(7)(o,{});o.locals&&(n.exports=o.locals)},53:function(n,t){n.exports=' <div v-if=configs.visiable _v-5626b976=""> <div class=dialog-banner _v-5626b976=""></div> <div class=dialog _v-5626b976=""> <p _v-5626b976="">{{configs.text}}</p> <div class=btn _v-5626b976=""> <a @click=sure _v-5626b976="">确定</a> <a @click=cancel v-if=configs.cancel class=cancel _v-5626b976="">取消</a> </div> </div> </div> '},54:function(n,t,e){var o,i;e(52),o=e(46),i=e(53),n.exports=o||{},n.exports.__esModule&&(n.exports=n.exports["default"]),i&&(("function"==typeof n.exports?n.exports.options||(n.exports.options={}):n.exports).template=i)},79:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e(17);t["default"]={data:function(){return{configs:{visiable:!1,text:"在 Cnode社区网站端登陆你的账户，然后在右上角找到【设置】按钮，点击进入后将页面滑动到最底部来查看你的Access Token。"},errortips:"",uuid:""}},vuex:{actions:{validateLogin:o.validateLogin,setStorage:o.setStorage},getters:{loginfailure:function(n){var t=n.userMes;return t.user}}},methods:{dialog:function(){this.configs.visiable=!0},login:function(){var n=this,t=/^[0-9a-z]{8}(-([0-9a-z]){4}){3}-([0-9a-z]){12}$/g;t.test(this.uuid)?this.validateLogin({accesstoken:this.uuid}).then(function(t){n.setStorage(t),self.location=document.referrer})["catch"](function(t){n.errortips=n.loginfailure.errormsg}):this.errortips="AccessToken格式错误，应为UUID"},changekey:function(n){n&&(this.errortips="")}},components:{mdialog:e(54)}}},105:function(n,t,e){t=n.exports=e(6)(),t.push([n.id,".login{margin:20px;background-color:#fff;height:200px;overflow:hidden}.login header{background-color:#f6f6f6;color:#999;line-height:30px;padding-left:20px;font-size:1.2rem}.loginMsg{padding:20px}.login input{width:100%;font-size:.9rem;padding:.133333333333333rem 0;border:none;outline:none;border-bottom:2px solid #80bd01}.login a.loginbtn{display:inline-block;text-align:center;font-size:1em;color:#fff;background-color:#80bd01;padding:0 20px;line-height:30px;box-shadow:1px 1px 10px #b2b2b2;text-decoration:none;border-radius:.2em;margin-top:20px}.login .tip{margin-top:26px;text-align:center}.login .tip a{text-decoration:underline;color:#80bd01;font-size:.8rem}.login .error{margin:0;color:red;font-size:.3rem;margin-top:3px}","",{version:3,sources:["/./src/views/login.vue"],names:[],mappings:"AAuEA,OAAO,YAAY,sBAAuB,aAAc,eAAiB,CAAC,AAC1E,cAAc,yBAA0B,WAAW,iBAAkB,kBAAkB,gBAAiB,CAAC,AACzG,UAAU,YAAkB,CAAC,AAC7B,aAAa,WAAW,gBAAkB,8BAAgC,YAAa,aAAc,+BAAiC,CAAC,AACvI,kBAAkB,qBAAsB,kBAAmB,cAAe,WAAY,yBAA0B,eAAe,iBAAkB,gCAAiC,qBAAsB,mBAAoB,eAAgB,CAAC,AAC7O,YAAY,gBAAgB,iBAAmB,CAAC,AAChD,cAAc,0BAA2B,cAAc,eAAiB,CAAC,AACzE,cAAc,SAAS,UAAU,gBAAkB,cAAe,CAAC",file:"login.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.login{margin:20px;background-color: #fff;height: 200px;overflow: hidden;}\n.login header{background-color: #f6f6f6;color:#999;line-height: 30px;padding-left:20px;font-size: 1.2rem}\n.loginMsg{padding:20px 20px;}\n.login input{width:100%;font-size: 0.9rem;padding: 0.133333333333333rem 0;border: none;outline: none;border-bottom: 2px solid #80bd01;}\n.login a.loginbtn{display: inline-block;text-align: center;font-size: 1em;color: #fff;background-color: #80bd01;padding:0 20px;line-height: 30px;box-shadow: 1px 1px 10px #b2b2b2;text-decoration: none;border-radius:0.2em;margin-top:20px;}\n.login .tip{margin-top:26px;text-align: center;}\n.login .tip a{text-decoration: underline;color:#80bd01;font-size: 0.8rem}\n.login .error{margin:0;color:red;font-size: 0.3rem;margin-top:3px;}\n"],sourceRoot:"webpack://"}])},112:function(n,t,e){var o=e(105);"string"==typeof o&&(o=[[n.id,o,""]]);e(7)(o,{});o.locals&&(n.exports=o.locals)},126:function(n,t){n.exports=' <div class=login> <header>登录</header> <div class=loginMsg> <input type=text placeholder="Access Token:" v-model=uuid @keyup=changekey> <p class=error v-show=errortips>{{errortips}}</p> <a @click=login class=loginbtn>登录</a> <div class=tip> <a @click=dialog>如何获取Access_Token?</a> </div> </div> </div> <mdialog :configs=configs></mdialog> '},144:function(n,t,e){var o,i;e(112),o=e(79),i=e(126),n.exports=o||{},n.exports.__esModule&&(n.exports=n.exports["default"]),i&&(("function"==typeof n.exports?n.exports.options||(n.exports.options={}):n.exports).template=i)}});
//# sourceMappingURL=2.af93ea6df4458a2013b6.js.map